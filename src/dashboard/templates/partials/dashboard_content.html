<div class="dashboard">
    <header class="dashboard-header">
        <h1>Repo Dashboard</h1>
        <p class="generated-at">Generated at {{ data.generated_at.strftime('%Y-%m-%d %H:%M:%S %Z') }}</p>
    </header>

    <div class="filter-toolbar">
        <span class="filter-toolbar-label">Filter</span>
        <label class="filter-switch">
            <input type="checkbox" id="filter-divergence" class="filter-switch-input">
            <span class="filter-switch-track" aria-hidden="true"></span>
            <span class="filter-switch-text">Has divergence</span>
        </label>
        <label class="filter-switch">
            <input type="checkbox" id="filter-all-clear" class="filter-switch-input">
            <span class="filter-switch-track" aria-hidden="true"></span>
            <span class="filter-switch-text">Hide all-clear</span>
        </label>

        <span class="toolbar-separator" aria-hidden="true"></span>

        <div class="sort-controls" role="group" aria-label="Sort repositories">
            <span class="filter-toolbar-label">Sort</span>
            <select id="sort-field" class="sort-select" aria-label="Sort by">
                <option value="name">Name</option>
                <option value="pushed-at">Last pushed</option>
                <option value="commit-count">Commit count</option>
            </select>
            <button id="sort-dir" class="sort-dir-btn" type="button" aria-label="Sort ascending" data-dir="asc">
                <span class="sort-dir-icon" aria-hidden="true">&#8593;</span>
                <span class="sort-dir-text">Asc</span>
            </button>
        </div>
    </div>

    {% if data.errors %}
    <div class="errors">
        <h2>Errors</h2>
        <ul>
            {% for error in data.errors %}
            <li class="error-item">{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <div class="repo-grid" id="repo-grid">
        {% for view in data.repos %}
            {% include "partials/repo_card.html" %}
        {% endfor %}
    </div>

    {% if not data.repos %}
    <div class="empty-state">
        <p>No repositories found. Check your configuration.</p>
    </div>
    {% endif %}
</div>
